%% 
%% Template for dissertation and diploma thesis 
%% at the faculty of civil engineering, TU Wien
%% 
%% Created 2016-10-14 
%% Christian Schranz, Sebastian Pech
%% tested for pdflatex
%% 
\ProvidesPackage{TUWBIDA}[2016/09/22]

\addtokomafont{captionlabel}{\bfseries}

\KOMAoptions{chapterprefix=true}
\KOMAoptions{parskip=false,headinclude=true,
captions=tableheading,numbers=noenddot}

\renewcommand*{\chaptermarkformat}{%
  \thechapter\autodot\enskip%
}  % no "Chapter" (or "Kapitel" in header)


\RequirePackage[T1]{fontenc}
\RequirePackage{lmodern}
\RequirePackage[babel]{microtype}     % verbessert das Schriftbild deutlich
\RequirePackage[english,naustrian]{babel} %% englisch and austrian language

%% lines at - siehe: http://www.komascript.de/chapterwithlines
%\renewcommand{\chapterlineswithprefixformat}[3]{%
%  {\raggedleft #2}\nobreak
%  \rule[.5\baselineskip]{\textwidth}{1pt}\\*
%  #3\par\nobreak
%  \rule[-.5\baselineskip]{\textwidth}{1pt}%
%}
%% Linien bei Überschriften - Ende

%% Absatzkontrolle
\clubpenalty10000
\widowpenalty10000
\displaywidowpenalty=10000

\RequirePackage{graphicx} 

%% 2 definitions of margins - choose the one you like
%% new definitions of margins - variant 1
\RequirePackage[left=2.5cm,right=2.5cm,top=2.0cm,bottom=3.0cm,includehead]{geometry}
%%
%% new definitions of page size - variant 2
%% Bindekorrektur=10mm, textwidth=155mm, textheight=242mm
%%\areaset[10mm]{160mm}{247mm} 

%% header and foot
\RequirePackage[
headsepline,
automark
]{scrlayer-scrpage}

\pagestyle{scrheadings}
\clearpairofpagestyles
\ihead{\headmark}
\ohead{\thepage}
%\cfoot{\thepage}


% Mathematikpakete
\RequirePackage{mathtools} %% extension of amsmath (also loads amstext)
\RequirePackage{amssymb}   %% for complex formulas
\RequirePackage{nicefrac}  %% diagonals fractions - e.g. numbers

\RequirePackage[output-decimal-marker={,}]{siunitx} %% SI Units
\RequirePackage{booktabs} %% for better looking tables 
\RequirePackage{url} %% links inside the document as well as to websites

\RequirePackage[table]{xcolor} %% improvement to the color package
\RequirePackage{textcomp} %% additional symbols
\RequirePackage{marvosym} %% additional symbols
\RequirePackage{pifont}   %% additional symbols
\RequirePackage{pdfpages} %% to include pdf pages
\RequirePackage{ragged2e,tabularx,longtable}  %% customizing tables
\RequirePackage[babel,austrian=quotes,english=american]{csquotes}   %% context sensitives quotations
\RequirePackage{eurosym} %% for correct Euro-Symbol with \officialeuro{}
\RequirePackage{xspace}  %% for intelligent spacing after commands \xspace
\RequirePackage[absolute]{textpos} %% for positioning the tu-logo
\RequirePackage{enumitem}  %% to customize itemize, enumerate, description
\RequirePackage{todonotes} %% very handy to place notes while working on the text \todo{}
\RequirePackage{dcolumn}   %% tables: positioning at comma
\RequirePackage{multirow}  %% one cell over several rows
\RequirePackage{setspace}

\RequirePackage{listings} %% syntax highlighting - for program code



% Eigene Sprachabhängige Begriffe
\renewcaptionname{ngerman,naustrian,nswissgerman}{\tablename}{Tab.}
\renewcaptionname{ngerman,naustrian,nswissgerman}{\figurename}{Abb.}
\renewcaptionname{ngerman,naustrian,nswissgerman}{\bibname}{Literaturverzeichnis}
\renewcaptionname{ngerman,naustrian,nswissgerman}{\abstractname}{Kurzfassung}

%% Typografische Einstellungen zu Gleitobjekten
\renewcommand{\floatpagefraction}{0.6}
\renewcommand{\textfraction}{0.15}
\renewcommand{\topfraction}{0.8}
\renewcommand{\bottomfraction}{0.5}
\setcounter{topnumber}{3}
\setcounter{totalnumber}{5}


%% Customize Listing
\lstset{
	basicstyle = \footnotesize\ttfamily,
	keywordstyle=\color{blue}\bfseries,
	tabsize=3,
	breaklines=true,
	showstringspaces = false,
	upquote = true,
	xleftmargin=4mm,
	xrightmargin=.25in,
	aboveskip=15pt,
	belowskip=12pt,
	belowcaptionskip=12pt,
	numbers=left,
	numberstyle=\tiny,
	frame=tb,
	moredelim=**[is][\color{blue}]{@}{@}
} 
\lstset{literate=%
   {Ö}{{\"O}}1
   {Ä}{{\"A}}1
   {Ü}{{\"U}}1
   {ß}{{\ss}}1
   {ü}{{\"u}}1
   {ä}{{\"a}}1
   {ö}{{\"o}}1
}
\renewcommand{\lstlistingname}{Program Code}

%%
%% Customize Titlepage for Department of Civil Engineering
%%
\newcommand{\titleGER}[1]{\renewcommand\@titleGER{#1}}
\newcommand\@titleGER{\@latex@error{No german title \noexpand\titleGER specified}\@ehc}
\newcommand{\titleENG}[1]{\renewcommand\@titleENG{#1}}
\newcommand\@titleENG{\@latex@error{No english title \noexpand\titleENG specified}\@ehc}
\newcommand{\supervisor}[1]{\renewcommand\@supervisor{#1}}
\newcommand\@supervisor{\@latex@error{No supervisor \noexpand\supervisor specified}\@ehc}
\newcommand{\institute}[1]{\renewcommand\@institute{#1}}
\newcommand\@institute{\@latex@error{No \noexpand\institute specified}\@ehc}
\newcommand{\MatrNr}[1]{\renewcommand\@MatrNr{#1}}
\newcommand\@MatrNr{\@latex@error{No \noexpand\MatrNr specified}\@ehc}
\newcommand{\gender}[1]{\newcommand\@gender{#1}}
\def\male{M}
\def\female{F}



\renewcommand{\maketitle}{%
\begin{titlepage}
%
\begin{textblock*}{4cm}(157mm,7mm)
\includegraphics[width=4cm]{./tu-bi-2009.JPG}
\end{textblock*}

\begin{singlespace*}
\begin{center}
{\Large Diploma Thesis} \\[3ex]
\textbf{{\LARGE \@titleENG
}} 
\\[4.5ex]
{\large
submitted in satisfaction of the requirements for the degree of
\\[1ex]
Diplom-Ingenieur
\\[1ex]
of the TU Wien, Faculty of Civil Engineering
}
\\[1.2ex]
\rule{\linewidth}{0.2mm}
\\[3ex]
{\Large Projektarbeit} 
\\[4.5ex]
\textbf{{\LARGE \@titleGER}} 
\\[4.5ex]
{\large
ausgeführt zum Zwecke der Erlangung des akademischen Grades 
\if\@gender\male 
eines 
\\[1ex]
Diplom-Ingenieurs 
\else 
einer
\\[1ex]
Diplom-Ingenieurin 
\fi
\\[1ex]
eingereicht an der Technischen Universität Wien, Fakultät für Bauingenieurwesen
\\[3ex]
von
\\[3ex]
{\Large
\@author}
\\[3ex]
Matr.Nr.: \@MatrNr
}
\end{center}

\vfill

{\large
\begin{center}
unter der Anleitung von
\\[4ex]
\@supervisor
\\[2ex]
\@institute
\end{center}

\vfill

Wien, im \@date \hfill \line(1,0){165}
}
\end{singlespace*}
\end{titlepage}}
%%
%% end customizing title page
%%